box-shadow: 0 0 34px rgba(0, 200, 255, 0.45);
padding: 26px 26px 22px;
position: relative;
      margin-top: 40px;
      margin-top: 70px;
}

.panel::before {
@@ -55,8 +55,41 @@
pointer-events: none;
}

    /* *************** CAPTAIN FIX – НОВ КОД *************** */

    .captain-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
      position: absolute;
      top: -70px;
      left: 0;
      z-index: 10;
    }

    .captain-frame {
      width: 120px;
      height: 120px;
      border-radius: 14px;
      border: 2px solid rgba(0,200,255,0.9);
      box-shadow: 0 0 22px rgba(0,200,255,0.8);
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .captain-avatar {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ******************************************************* */

h1 {
      margin: 0 0 6px;
      margin: 40px 0 6px;
font-size: 22px;
letter-spacing: 0.26em;
text-transform: uppercase;
@@ -104,10 +137,8 @@
}

textarea { min-height: 80px; resize: vertical; }

.full { grid-column: 1 / -1; }

    /* LOGOUT */
.logout-btn {
position: absolute;
top: 14px;
@@ -121,27 +152,7 @@
letter-spacing: 0.18em;
text-transform: uppercase;
cursor: pointer;
      z-index: 4;
    }

    /* CAPTAIN PORTRAIT */
    .captain-box {
      position: absolute;
      top: 60px;
      right: 22px;
      width: 120px;
      text-align: center;
      z-index: 3;
    }

    .captain-avatar {
      width: 100px;
      height: 100px;
      border-radius: 12px;
      border: 2px solid rgba(0,200,255,0.9);
      box-shadow: 0 0 18px rgba(0,200,255,0.8);
      object-fit: cover;
      background: black;
      z-index: 15;
}

.btn-row { grid-column: 1 / -1; text-align: center; margin-top: 14px; }
@@ -166,7 +177,6 @@
min-height: 18px;
}

    /* PREVIEW */
.photo-preview-wrap { grid-column: 1 / -1; display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap; }
.photo-thumb {
width: 80px; height: 60px;
@@ -176,20 +186,22 @@
box-shadow: 0 0 10px cyan;
}
.photo-thumb img { width: 100%; height: 100%; object-fit: cover; }

</style>
</head>

<body>
<div class="panel">

  <button class="logout-btn" onclick="logout()">LOG OUT</button>

  <div class="captain-box">
    <img class="captain-avatar" id="captainImg"
         src="media/captain.png"
         alt="captain">
  <!-- NEW CAPTAIN SYSTEM -->
  <div class="captain-wrapper">
    <div class="captain-frame">
      <img class="captain-avatar" id="captainImg" src="media/captain.png" alt="captain">
    </div>
</div>

  <button class="logout-btn" onclick="logout()">LOG OUT</button>

<h1>PLANET ADMIN</h1>
<div class="subtitle">NO MAN'S SKY • SHIP LOG • RECORD</div>

@@ -211,10 +223,7 @@ <h1>PLANET ADMIN</h1>

<div class="full"><label>Description</label><textarea id="desc"></textarea></div>

    <div class="full">
      <label>Photos</label>
      <input type="file" id="photos" accept="image/*" multiple>
    </div>
    <div class="full"><label>Photos</label><input type="file" id="photos" accept="image/*" multiple></div>

<div id="photoPreview" class="photo-preview-wrap"></div>

@@ -266,9 +275,7 @@ <h1>PLANET ADMIN</h1>
return new Promise(resolve => {
const img = new Image();
const reader = new FileReader();
    reader.onload = e => {
      img.src = e.target.result;
    };
    reader.onload = e => { img.src = e.target.result; };
img.onload = () => {
const canvas = document.createElement("canvas");
let scale = maxW / img.width;
@@ -319,7 +326,7 @@ <h1>PLANET ADMIN</h1>
try {
localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
setStatus("Saved ✔");
  } catch (err) {
  } catch {
p.images = [];
list[list.length - 1] = p;
