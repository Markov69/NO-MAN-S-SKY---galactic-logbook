<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>NO MEAN'S SKY – SHIP LOG</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  margin: 0; padding: 0;
  background: #02030b;
  font-family: Orbitron, sans-serif;
  color: #b7eaff;
  overflow: hidden;
}

/* --- STARFIELD --- */
.stars, .stars2 {
  position: fixed; inset: 0;
  pointer-events: none; z-index: -3;
}
.stars {
  background-image:
    radial-gradient(2px 2px at 20% 30%, #fff 0, transparent 40%),
    radial-gradient(1.5px 1.5px at 70% 80%, #cce8ff 0, transparent 40%);
  background-size: 500px 500px;
  animation: drift1 60s linear infinite;
}
.stars2 {
  background-image:
    radial-gradient(2px 2px at 50% 60%, #fff 0, transparent 40%),
    radial-gradient(1.5px 1.5px at 10% 20%, #b8eaff 0, transparent 40%);
  background-size: 600px 600px;
  animation: drift2 85s linear infinite;
}
@keyframes drift1 { from{transform:translate(0,0)} to{transform:translate(-300px,-300px)} }
@keyframes drift2 { from{transform:translate(0,0)} to{transform:translate(300px,200px)} }

/* --- HOME PANEL --- */
.home {
  padding: 40px;
  text-align: center;
}
h1 {
  font-size: 28px; letter-spacing: 0.25em;
  color: #9fe7ff;
  margin-bottom: 12px;
}
.sub {
  font-size: 13px; opacity: 0.6;
  letter-spacing: 0.14em;
  margin-bottom: 20px;
}

/* --- ENTER LOG BUTTON --- */
.enter-log-button a {
  display: inline-block;
  padding: 12px 32px;
  border-radius: 10px;
  border: 1px solid rgba(120,220,255,0.5);
  background: rgba(10,25,40,0.55);
  letter-spacing: 0.25em;
  color: #9fe7ff;
  text-decoration: none;
  transition: 0.25s;
}
.enter-log-button a:hover {
  color: #fff;
  border-color: #d7f8ff;
  box-shadow: 0 0 12px #81eaff;
  transform: translateY(-2px);
}

/* --- RADAR (не го барам) --- */
.radar {
  width: 200px; height: 200px;
  margin: 50px auto;
  position: relative;
  border-radius: 50%;
  border: 1px solid rgba(120,210,255,0.7);
  box-shadow: 0 0 25px rgba(120,210,255,0.5);
}
.radar .line {
  position: absolute;
  top: 50%; left: 50%;
  width: 50%; height: 2px;
  background: linear-gradient(to right, transparent, #5ad6ff);
  transform-origin: 0% 50%;
  animation: sweep 4s linear infinite;
}
@keyframes sweep { from{transform:rotate(0)} to{transform:rotate(360deg)} }

.radar .dot {
  position: absolute; width: 7px; height: 7px;
  border-radius: 50%;
  background: #ff3b6c;
  box-shadow: 0 0 12px #ff3b6c;
  animation: pulse 1.5s infinite;
}
.dot1 { top:20%; left: 60%; }
.dot2 { top:65%; left:30%; animation-delay:0.3s; }
.dot3 { top:40%; left:80%; animation-delay:0.6s; }
@keyframes pulse {
  0%,100% {opacity:0.3; transform:scale(0.6);}
  50% {opacity:1; transform:scale(1.2);}
}

/* --- LOADING OVERLAY --- */
.loading-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  z-index: 9998;
}
.loading-box { text-align:center; color:#9fe7ff; }
.loading-bar-outer {
  width: 240px; height: 9px;
  border: 1px solid rgba(140,230,255,0.4);
  border-radius: 6px;
  margin: 12px auto;
  background: rgba(255,255,255,0.08);
  overflow: hidden;
}
.loading-bar-inner {
  width: 0%; height:100%;
  background: #34d2ff;
  box-shadow: 0 0 12px #34d2ff;
  transition: 0.25s linear;
}
.loading-percent {
  font-size: 12px;
  opacity: 0.7;
  letter-spacing: 0.14em;
}

/* --- FLOATING LOG WINDOW --- */
.log-screen {
  position: fixed; inset: 0;
  display:flex; align-items:center; justify-content:center;
  background: rgba(0,10,20,0.35);
  backdrop-filter: blur(4px);
  z-index: 9999;
  transition: transform 0.1s linear;
}

.log-window {
  width: 700px; max-width: 90%;
  height: 420px; max-height: 75%;
  padding: 22px;
  background: rgba(5,12,25,0.85);
  border-radius: 16px;
  border: 1px solid rgba(120,210,255,0.45);
  box-shadow: 0 0 22px rgba(120,210,255,0.45);
  position: relative;
  backdrop-filter: blur(10px);
}

.log-close {
  position: absolute; top: 12px; right: 16px;
  font-size: 20px; cursor: pointer;
  opacity: 0.7; transition:0.2s;
}
.log-close:hover { opacity:1; text-shadow:0 0 10px #bff3ff; }

.log-content {
  text-align: center;
  color: #b7eaff;
  margin-top: 50px;
}
.log-content h2 {
  font-size: 22px;
  letter-spacing: 0.25em;
  margin-bottom: 16px;
}
.log-content p {
  font-size: 12px; opacity:0.7; letter-spacing:0.15em;
  text-transform: uppercase;
}
</style>
</head>

<body>

<div class="stars"></div>
<div class="stars2"></div>

<!-- HOME UI -->
<div class="home">
  <h1>NO MEAN'S SKY</h1>
  <div class="sub">BORDOVI DNEVNIK / SHIP LOG</div>

  <div class="enter-log-button">
    <a href="#">ENTER LOG</a>
  </div>

  <div class="radar">
    <div class="line"></div>
    <div class="dot dot1"></div>
    <div class="dot dot2"></div>
    <div class="dot dot3"></div>
  </div>
</div>

<!-- SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", ()=>{

  const btn = document.querySelector(".enter-log-button a");
  let logShown = false;
  let moveHandler = null;

  history.replaceState({screen:"home"},"");

  btn.addEventListener("click", (e)=>{
    e.preventDefault();
    if (logShown) return;
    startLoading();
  });

  function startLoading(){
    const ov = document.createElement("div");
    ov.className = "loading-overlay";
    ov.innerHTML = `
      <div class="loading-box">
        <div>LOADING...</div>
        <div class="loading-bar-outer">
          <div class="loading-bar-inner"></div>
        </div>
        <div class="loading-percent">0%</div>
      </div>
    `;
    document.body.appendChild(ov);

    let p = 0;
    function step(){
      p += Math.floor(Math.random()*18)+5;
      if(p>100)p=100;

      ov.querySelector(".loading-bar-inner").style.width=p+"%";
      ov.querySelector(".loading-percent").textContent=p+"%";

      if(p<100){
        setTimeout(step,150+Math.random()*250);
      } else {
        setTimeout(()=>{
          ov.remove();
          openLog();
        },300);
      }
    }
    step();
  }

  function openLog(){
    logShown = true;
    history.pushState({screen:"log"},"","#log");

    const scr = document.createElement("div");
    scr.className = "log-screen";
    scr.innerHTML = `
      <div class="log-window">
        <div class="log-close">✕</div>
        <div class="log-content">
          <h2>SHIP LOG</h2>
          <p>INTERFACE ACTIVE</p>
          <p>WELCOME COMMANDER</p>
        </div>
      </div>
    `;
    document.body.appendChild(scr);

    // PARALLAX
    moveHandler = (ev)=>{
      let x=(window.innerWidth/2-ev.clientX)/40;
      let y=(window.innerHeight/2-ev.clientY)/40;
      scr.style.transform=`translate(${x}px,${y}px)`;
    };
    document.addEventListener("mousemove", moveHandler);

    // X button
    scr.querySelector(".log-close").addEventListener("click", ()=>history.back());
  }

  function closeLog(){
    const scr=document.querySelector(".log-screen");
    if(scr) scr.remove();
    if(moveHandler) document.removeEventListener("mousemove",moveHandler);
    moveHandler=null;
    logShown=false;
  }

  // Browser / mouse back
  window.addEventListener("popstate",(e)=>{
    const s=e.state||{};
    if(s.screen==="home") closeLog();
  });

});
</script>

</body>
</html>
